(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"21ee":function(e,t,s){},"44c2":function(e,t,s){"use strict";var r=s("21ee"),n=s.n(r);n.a},"5b17":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{ref:"pageChat",staticClass:"page-chat flex column"},[e.otherUserDetails.online?e._e():s("q-banner",{staticClass:"bg-grey-4 text-center fixed-top"},[e._v("\n\t  \n      "+e._s(e.otherUserDetails.name)+" is offline.\n    ")]),s("div",{staticClass:"q-pa-md column col justify-end",class:{invisible:!e.showMessages}},e._l(e.messages,(function(t,r){return s("q-chat-message",{key:r,attrs:{name:"me"==t.from?e.userDetails.name:e.otherUserDetails.name,text:[t.text],sent:"me"==t.from,"bg-color":"me"==t.from?"white":"blue"}})})),1),s("q-footer",{attrs:{elevated:""}},[s("q-toolbar",[s("q-form",{staticClass:"full-width"},[s("q-input",{ref:"newMessage",attrs:{"bg-color":"white",outlined:"",rounded:"",label:"Message",dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[s("q-btn",{attrs:{round:"",dense:"",flat:"",color:"white",icon:"send"},on:{click:e.sendMessage}})]},proxy:!0}]),model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}})],1)],1)],1)],1)},n=[],o=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),a=s.n(o),i=s("2f62"),c=s("e883");function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){a()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var f={mixins:[c["a"]],data:function(){return{newMessage:"",showMessages:!1}},computed:l({},Object(i["d"])("store",["messages","userDetails"])),methods:l({},Object(i["b"])("store",["firebaseGetMessages","firebaseStopGettingMessages","firebaseSendMessage"]),{sendMessage:function(){this.firebaseSendMessage({message:{text:this.newMessage,from:"me"},otherUserId:this.$route.params.otherUserId}),this.clearMessage()},clearMessage:function(){this.newMessage="",this.$refs.newMessage.focus()},scrollToBottom:function(){var e=this.$refs.pageChat.$el;setTimeout((function(){window.scrollTo(0,e.scrollHeight)}),20)}}),watch:{messages:function(e){var t=this;Object.keys(e).length&&(this.scrollToBottom(),setTimeout((function(){t.showMessages=!0}),200))}},mounted:function(){this.firebaseGetMessages(this.$route.params.otherUserId)},destroyed:function(){this.firebaseStopGettingMessages()}},g=f,h=(s("44c2"),s("2877")),d=Object(h["a"])(g,r,n,!1,null,null,null);t["default"]=d.exports},e883:function(e,t,s){"use strict";t["a"]={computed:{otherUserDetails:function(){return this.$store.state.store.users[this.$route.params.otherUserId]?this.$store.state.store.users[this.$route.params.otherUserId]:{}}}}}}]);